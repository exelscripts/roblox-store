<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ExelNotifier</title>
<style>
:root{
    --bg:#020617;
    --card:rgba(15,23,42,.78);
    --border:rgba(56,189,248,.4);
    --accent:#38bdf8;
    --text:#e5e7eb;
}
*{box-sizing:border-box}
body{
    margin:0;
    min-height:100vh;
    font-family:system-ui,sans-serif;
    background:radial-gradient(circle at top,#0f172a,transparent 60%),#020617;
    display:flex;
    justify-content:center;
    align-items:center;
    color:var(--text);
}
.card{
    width:94%;
    max-width:560px;
    background:var(--card);
    border:1px solid var(--border);
    backdrop-filter:blur(14px);
    border-radius:20px;
    padding:30px;
    box-shadow:0 25px 50px rgba(0,0,0,.65);
}
h2{margin:0 0 14px;color:#7dd3fc;font-size:1.2em}
input{
    width:100%;
    max-width:420px;
    margin:0 auto;
    display:block;
    padding:13px 14px;
    font-size:.98em;
    border-radius:12px;
    background:rgba(2,6,23,.85);
    border:1px solid var(--border);
    color:var(--text);
    text-align:center;
}
button{
    padding:12px 14px;
    border-radius:12px;
    border:none;
    background:linear-gradient(135deg,#38bdf8,#60a5fa);
    color:#020617;
    font-weight:700;
    cursor:pointer;
}
button:hover{box-shadow:0 0 20px rgba(56,189,248,.45)}
.full{width:100%;margin-top:16px}
.row{
    display:flex;
    gap:12px;
    margin-top:14px;
    align-items:stretch;
}
.pill{
    flex:1;
    padding:14px;
    border-radius:14px;
    background:rgba(2,6,23,.8);
    border:1px solid var(--border);
    font-size:.95em;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
}
.admin-pill{
    background:rgba(56,189,248,.12);
    color:#7dd3fc;
}
.copy-box{
    margin-top:18px;
    display:flex;
    gap:10px;
    background:rgba(2,6,23,.8);
    border:1px solid var(--border);
    padding:14px;
    border-radius:14px;
}
.copy-box span{
    flex:1;
    font-size:.8em;
    color:#7dd3fc;
    word-break:break-all;
}
.logout{
    margin-top:18px;
    background:#ef4444;
    color:white;
}
.toast{
    margin-bottom:12px;
    padding:10px;
    border-radius:10px;
    background:rgba(34,197,94,.15);
    border:1px solid rgba(34,197,94,.5);
    color:#bbf7d0;
    display:none;
    text-align:center;
    font-size:.9em;
    word-break:break-word;
}
#adminPanel{
    display:none;
    margin-top:14px;
    background:rgba(2,6,23,.8);
    border:1px solid var(--border);
    border-radius:14px;
    padding:14px;
    max-height:300px;
    overflow-y:auto;
}
.key-item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:8px;
    padding:6px 8px;
    border-radius:8px;
    background:rgba(56,189,248,.05);
}
.key-item button{
    background:#ef4444;
    color:white;
    font-weight:500;
    padding:4px 6px;
    font-size:.75em;
}
.key-item input{
    width:60px;
    padding:2px 4px;
    border-radius:6px;
    border:1px solid var(--border);
    margin-left:4px;
    font-size:.75em;
    text-align:center;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="card" id="login">
    <h2>Enter License Key</h2>
    <input id="keyInput" placeholder="EXEL-XH-XXXX-XXXX">
    <button class="full" onclick="redeem()">Redeem</button>
</div>

<!-- APP -->
<div class="card" id="app" style="display:none;">
    <h2>exel hub finder paid, find brainrots INSTANTLY ‚ö°‚è©</h2>

    <div class="row">
        <div class="pill">
            ‚è≥ Time remaining: <b id="timeLeft">--:--:--</b>
        </div>
        <button id="adminBtn" class="pill admin-pill" style="display:none;" onclick="toggleAdminPanel()">
            Admin Dashboard
        </button>
    </div>

    <div class="toast" id="toast">Copied to clipboard üìã</div>
    <div id="adminPanel"></div>

    <div class="copy-box">
        <span>
loadstring(game:HttpGet("https://raw.githubusercontent.com/exelscripts/joiner/refs/heads/main/exel"))()
        </span>
        <button onclick="copyScript(this)">Copy</button>
    </div>

    <button class="full logout" onclick="logout()">Logout</button>
</div>

<script>
const ADMIN_KEY="EXEL-ADMIN-2704";
let keys=JSON.parse(localStorage.getItem("keys")||"{}");
let activeKeys=JSON.parse(localStorage.getItem("activeKeys")||"{}");

// REDEEM KEY
function redeem(){
    const v=keyInput.value.trim().toUpperCase();
    if(v===ADMIN_KEY){
        localStorage.setItem("admin","true");
        showApp(true);
        return;
    }
    if(!keys[v]){
        alert("Invalid license key");
        return;
    }
    let now=Date.now();
    let remaining=activeKeys[v]?activeKeys[v]-now:keys[v]*1000;
    let expiresAt=now+remaining;
    activeKeys[v]=expiresAt;
    localStorage.setItem("activeKeys",JSON.stringify(activeKeys));
    localStorage.setItem("currentKey",v);
    showApp(false);
}

// SHOW APP
function showApp(admin){
    login.style.display="none";
    app.style.display="block";
    adminBtn.style.display=admin?"flex":"none";
    if(admin){
        timeLeft.textContent="inf ‚ôæÔ∏è";
    } else {
        tick();
    }
    if(admin) renderAdminPanel();
}

// TIMER
function tick(){
    let currentKey=localStorage.getItem("currentKey");
    if(!currentKey) return;
    let expires=activeKeys[currentKey];
    let left=Math.floor((expires-Date.now())/1000);
    if(left<=0){
        delete activeKeys[currentKey];
        localStorage.setItem("activeKeys",JSON.stringify(activeKeys));
        alert("Your key expired!");
        logout();
        return;
    }
    let h=Math.floor(left/3600);
    let m=Math.floor((left%3600)/60);
    let s=left%60;
    timeLeft.textContent=`${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    setTimeout(tick,1000);
}

// COPY SCRIPT
function copyScript(btn){
    navigator.clipboard.writeText(btn.previousElementSibling.innerText);
    btn.textContent="Copied";
    setTimeout(()=>btn.textContent="Copy",1200);
}

// LOGOUT
function logout(){
    localStorage.removeItem("currentKey");
    localStorage.removeItem("admin");
    location.reload();
}

// ADMIN PANEL
function toggleAdminPanel(){
    let panel=document.getElementById("adminPanel");
    if(panel.style.display==="none"||panel.style.display===""){
        renderAdminPanel();
        panel.style.display="block";
    }else panel.style.display="none";
}

function renderAdminPanel(){
    let panel=document.getElementById("adminPanel");
    panel.innerHTML="";

    // Generator buttons
    let durations=[{label:"1 Hour",sec:3600},{label:"2 Hour",sec:7200},{label:"3 Hour",sec:10800},{label:"4 Hour",sec:14400},{label:"1 Day",sec:86400},{label:"1 Week",sec:604800}];
    durations.forEach(d=>{
        let btn=document.createElement("button");
        btn.className="full";
        btn.style.marginTop="4px";
        btn.textContent=`Generate ${d.label} Key`;
        btn.onclick=()=>gen(d.sec);
        panel.appendChild(btn);
    });

    panel.appendChild(document.createElement("hr"));

    if(Object.keys(activeKeys).length===0){
        panel.innerHTML+="<i>No active keys</i>";
        return;
    }

    Object.keys(activeKeys).forEach(k=>{
        let keyDiv=document.createElement("div");
        keyDiv.className="key-item";
        let expire=Math.max(0,activeKeys[k]-Date.now());
        let h=Math.floor(expire/3600000);
        let m=Math.floor((expire%3600000)/60000);
        let s=Math.floor((expire%60000)/1000);
        keyDiv.innerHTML=`<span>${k} - ${h}h ${m}m ${s}s</span>`;

        // Ban button
        let banBtn=document.createElement("button");
        banBtn.textContent="Ban";
        banBtn.onclick=()=>{
            delete activeKeys[k];
            delete keys[k];
            localStorage.setItem("activeKeys",JSON.stringify(activeKeys));
            localStorage.setItem("keys",JSON.stringify(keys));
            renderAdminPanel();
        };
        keyDiv.appendChild(banBtn);

        // Add time
        let addInput=document.createElement("input"); addInput.placeholder="+sec";
        keyDiv.appendChild(addInput);
        let addBtn=document.createElement("button"); addBtn.textContent="+";
        addBtn.onclick=()=>{
            let val=parseInt(addInput.value);
            if(!isNaN(val)){
                activeKeys[k]+=val*1000;
                localStorage.setItem("activeKeys",JSON.stringify(activeKeys));
                renderAdminPanel();
            }
        };
        keyDiv.appendChild(addBtn);

        // Subtract time
        let subInput=document.createElement("input"); subInput.placeholder="-sec";
        keyDiv.appendChild(subInput);
        let subBtn=document.createElement("button"); subBtn.textContent="-";
        subBtn.onclick=()=>{
            let val=parseInt(subInput.value);
            if(!isNaN(val)){
                activeKeys[k]-=val*1000;
                if(activeKeys[k]<Date.now()){delete activeKeys[k]; delete keys[k];}
                localStorage.setItem("activeKeys",JSON.stringify(activeKeys));
                localStorage.setItem("keys",JSON.stringify(keys));
                renderAdminPanel();
            }
        };
        keyDiv.appendChild(subBtn);

        panel.appendChild(keyDiv);
    });
}

// GENERATE KEY
function gen(seconds){
    const key="EXEL-"+Math.random().toString(36).substring(2,6).toUpperCase()+"-"+Math.random().toString(36).substring(2,6).toUpperCase();
    keys[key]=seconds;
    activeKeys[key]=Date.now()+seconds*1000;
    localStorage.setItem("keys",JSON.stringify(keys));
    localStorage.setItem("activeKeys",JSON.stringify(activeKeys));

    // Copy first, before doing anything else
    navigator.clipboard.writeText(key).then(()=>{
        const toast=document.getElementById("toast");
        toast.textContent=`Copied to clipboard üìã ‚Üí ${key}`;
        toast.style.display="block";
        setTimeout(()=>toast.style.display="none",1800);
    }).catch(err=>{
        alert("Copy failed! Key: "+key);
    });
}

}

// AUTO LOGIN
if(localStorage.getItem("admin")==="true"){showApp(true);}
else if(localStorage.getItem("currentKey") && activeKeys[localStorage.getItem("currentKey")]){showApp(false);}
</script>
</body>
</html>


